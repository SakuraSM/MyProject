## git简单教程
 
#### 1、创建版本库
> 如果你使用Windows系统，为了避免遇到各种莫名其妙的问题，请确保目录名（包括父目录）不包含中文。
 ```text
$ git init
```
#### 2、把文件添加到版本库
> 首先这里再明确一下，所有的版本控制系统，其实只能跟踪文本文件的改动，而图片、视频这些二进制文件，虽然也能由版本控制系统管理，但没法跟踪文件的变化，只能把二进制文件每次改动串起来，也就是只知道图片从100KB改成了120KB，但到底改了啥，版本控制系统不知道，也没法知道。

  把文件添加到仓库，git add 命令
```text
$ git add readme.txt
```
  添加多个文件
```text
$ git add file2.txt file3.txt
```
#### 3、提交版本库

```text
$ git commit -m "wrote a readme file"
[master (root-commit) eaadf4e] wrote a readme file
 1 file changed, 2 insertions(+)
 create mode 100644 readme.txt
```
  简单解释一下git commit命令，-m后面输入的是本次提交的说明，可以输入任意内容，当然最好是有意义的，这样你就能从历史记录里方便地找到改动记录。\
  git commit命令执行成功后会告诉你，1 file changed：1个文件被改动（我们新添加的readme.txt文件）；2 insertions：插入了两行内容（readme.txt有两行内容）。

#### 4、版本回退
  git log查看提交历史记录
```text
$ git log
commit 1094adb7b9b3807259d8cb349e7df1d4d6477073 (HEAD -> master)
Author: Michael Liao <askxuefeng@gmail.com>
Date:   Fri May 18 21:06:15 2018 +0800

    append GPL

commit e475afc93c209a690c39c13a46716e8fa000c366
Author: Michael Liao <askxuefeng@gmail.com>
Date:   Fri May 18 21:03:36 2018 +0800

    add distributed

commit eaadf4e385e865d25c48e7ca9c8395c3f7dfaef0
Author: Michael Liao <askxuefeng@gmail.com>
Date:   Fri May 18 20:59:18 2018 +0800
```
  现在，我们要把当前版本append GPL回退到上一个版本add distributed，就可以使用git reset命令：
```text
$ git reset --hard HEAD^
HEAD is now at e475afc add distributed
```
  想再回到最新的版本，前提是，命令行窗口还没有关闭，找到之前版本的commit id：
```text
$ git reset --hard 1094a
HEAD is now at 83b0afe append GPL
```
> 版本号没必要写全，前几位就可以了，Git会自动去找。当然也不能只写前一两位，因为Git可能会找到多个版本号，就无法确定是哪一个了。

#### 5、远程仓库
  根据生成的链接添加远程库，下面的例子是通过GitHub添加远程库：
```text
$ git remote add origin git@github.com:michaelliao/learngit.git
```
  下一步，就可以把本地库的所有内容推送到远程库上：
```text
$ git push -u origin master
Counting objects: 20, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (15/15), done.
Writing objects: 100% (20/20), 1.64 KiB | 560.00 KiB/s, done.
Total 20 (delta 5), reused 0 (delta 0)
remote: Resolving deltas: 100% (5/5), done.
To github.com:michaelliao/learngit.git
 * [new branch]      master -> master
Branch 'master' set up to track remote branch 'master' from 'origin'.
```
  把本地库的内容推送到远程，用git push命令，实际上是把当前分支master推送到远程。\
  由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。\
  下一次提交可以使用：
```text
$ git push origin master
```
> 从远程库克隆，代码类似：
```text
$ git clone git@github.com:michaelliao/gitskills.git
Cloning into 'gitskills'...
remote: Counting objects: 3, done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 3
Receiving objects: 100% (3/3), done.
```
#### 6、分支管理
  创建dev分支：
```text
$ git checkout -b dev
Switched to a new branch 'dev'
```
  git checkout命令加上-b参数表示创建并切换，相当于以下两条命令：
```text
$ git branch dev
$ git checkout dev
Switched to branch 'dev'
```
  然后，用git branch命令查看当前分支：
```text
$ git branch
* dev
  master
```
  版本修改后在分支正常提交：
```text
$ git add readme.txt 
$ git commit -m "branch test"
[dev b17d20e] branch test
 1 file changed, 1 insertion(+)
```
  现在，dev分支的工作完成，我们就可以切换回master分支：
```text
$ git checkout master
Switched to branch 'master'
```
  现在，我们把dev分支的工作成果合并到master分支上：
```text
$ git merge dev
Updating d46f35e..b17d20e
Fast-forward
 readme.txt | 1 +
 1 file changed, 1 insertion(+)
```
> 注意到上面的Fast-forward信息，Git告诉我们，这次合并是“快进模式”，也就是直接把master指向dev的当前提交，所以合并速度非常快。

  合并完成后，就可以放心地删除dev分支了：
```text
$ git branch -d dev
Deleted branch dev (was b17d20e).
```
  出现冲突：\
  当Git无法自动合并分支时，就必须首先解决冲突。解决冲突后，再提交，合并完成。\
  解决冲突就是把Git合并失败的文件手动编辑为我们希望的内容，再提交。
  用git log --graph命令可以看到分支合并图。
  